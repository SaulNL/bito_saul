<!--<ion-header [translucent]="true" >-->
<!--    <ion-toolbar>-->
<!--        <ion-title>-->
<!--            Inicio*-->
<!--        </ion-title>-->
<!--    </ion-toolbar>-->
<!--</ion-header>-->
<app-toolbar-busqueda placeHolder="Buscar negocios" (buscarEmit)="buscarToolbar($event)"></app-toolbar-busqueda>
<ion-content [fullscreen]="true">
        <ion-item>
                <ion-buttons slot="end">
                    <ion-button (click)="abrirFiltros()">Filtrar
                        <ion-icon name="filter-outline"></ion-icon>
                    </ion-button>
                </ion-buttons>
        </ion-item>
        <div *ngIf="(lstPromociones !== undefined && lstPromociones !== null && lstPromociones.length > 0) || (lstAvisos !== undefined && lstAvisos !== null && lstAvisos.length > 0) ">
            <ion-slides pager="true" [options]="slideOptsOne" #mySlider>
                <ion-slide *ngFor="let promocion of lstPromociones">
                  <img src="{{(promocion.url_imagen_banner)==='' || (promocion.url_imagen_banner)==null?promocionDefault:promocion.url_imagen_banner}}" class="d-block img-fluid" alt="Cargando imagen..." width="100%" height="100%" onerror="this.onerror=null;this.src=promocionDefault;"  (click)="accionPromocion(promocion, '/tabs/negocio/')">
                </ion-slide>
                <ion-slide *ngFor="let aviso of lstAvisos">
                    <img src="{{(aviso.imagen)==='' || (aviso.imagen)==null?promocionDefault:aviso.imagen}}" class="d-block img-fluid" width="100%" height="100%" onerror="this.onerror=null;this.src=promocionDefault;">
                </ion-slide>
            </ion-slides>
            <!--<ion-button (click)="swipeNext()">
                <ion-icon name="chevron-back-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="swipePrev()">
                <ion-icon name="chevron-forward-outline"></ion-icon>
            </ion-button>-->
      </div>
    <ion-grid *ngIf="listaCategorias.length !== 0">
        <ion-row *ngFor="let cat of listaCategorias">
            <ion-text class="w-100">
                <h2>{{cat.nombre}}</h2>
            </ion-text>
            <ion-col sizeLg="3" sizeXs="6" sizeSm="4" sizeMd="4" *ngFor="let proveedor of cat.negocios">
                <ion-card [routerLink]="['/tabs/negocio/' + proveedor.url_negocio]" class="m-0 fixed">
                    <img class="img-card-w" *ngIf="proveedor.url_logo !== null" [src]="proveedor.url_logo"
                         alt="Falla al cargar la imagen">
                    <ion-card-header>
                        <ion-card-subtitle>{{proveedor.nombre_comercial}}</ion-card-subtitle>
                        <ion-badge *ngIf="proveedor.abierto == 'ABIERTO'" color="success">Abierto</ion-badge>
                        <ion-badge *ngIf="proveedor.abierto !== 'ABIERTO'" color="danger">Cerrado</ion-badge>
                    </ion-card-header>
                    <ion-card-content>
                        {{proveedor.descripcion}}
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>
    <ion-grid *ngIf="listaCategorias.length === 0">
        <ion-text color="primary">
            <h2>No se encontraron negocios relacionados</h2>
        </ion-text>
    </ion-grid>


</ion-content>


