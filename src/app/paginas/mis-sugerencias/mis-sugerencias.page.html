<ion-header>
  <ion-toolbar class="tol-bar">
    <ion-title>Sugerencias</ion-title>
    <ion-buttons slot="start">
      <ion-button id="btnRegresar" routerLink="inicio">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content fullscreen>
  <div *ngFor="let cat of listaVerMas; index as a">
    <div class="container-1">
      <h2 id="ancla{{a}}">{{cat.nombre}}</h2>
      <br>
    </div>
    <div class="container-2">
      <ion-card *ngFor="let proveedor of cat.negocios">
        <div>
          <img *ngIf="proveedor.tienepromociones == 1"
               (click)="negocioRuta(proveedor.url_negocio, proveedor.id_negocio)"
               style="position: absolute; width: 170px; cursor: pointer;"
               src="../../../assets/images/promo/etiqueta_promo.png">
          <div class="logo-negocio">
            <img (click)="negocioRuta(proveedor.url_negocio, proveedor.id_negocio)" loading="lazy"
                 [src]="proveedor.url_logo !== null ? proveedor.url_logo : 'https://ecoevents.blob.core.windows.net/comprandoando/avatar.jpg'"
                 alt="Falla al cargar la imagen">
          </div>
          <div *ngIf="idNegocio===proveedor.id_negocio" class="ion-justify-content-center dots">
            <ion-spinner name="dots" style="margin: -10px 0px 0px 0px;" class="spinner-color"></ion-spinner>
          </div>
        </div>
        <div class="header-card" *ngIf="proveedor.giro !== null">
          <div class="tag-giro">{{proveedor.giro }}</div>
        </div>

        <div class="body-card">
          <div>
                  <span
                          [ngClass]="proveedor.abierto == 'ABIERTO' ? 'tag tag-green': 'tag tag-red'">{{proveedor.abierto}}</span>

            <app-dar-like-negocio [negocio]="proveedor" [usuario]="user" [mostrarLike]="existeSesion">
            </app-dar-like-negocio>
          </div>
          <div>
            <ion-card-title> {{proveedor.nombre_corto != "" ? proveedor.nombre_corto :
                    proveedor.nombre_comercial}}</ion-card-title>
          </div>
          <div class="distintivos">
            <img *ngIf="proveedor.verificado === 1" class="distintivoIcon" src="assets/icon/certificado_icon.svg"
                 matTooltip="Este negocio estÃ¡ verificado por Bitoo">
            <div class="distintivo"
                 *ngFor="let distintivo of proveedor.distintivos.slice(0, proveedor.verificado === 1 ? 3 : 4); index as i">
              <img class="distintivoIcon"
                   [src]="distintivo.icon">
            </div>
          </div>
        </div>
      </ion-card>
    </div>
  </div>

</ion-content>
